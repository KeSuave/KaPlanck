# Interface: KaPlanckPluginCtx

## Methods

### k2pVec2()

> **k2pVec2**(`vec`): `Vec2`

Converts a vector from KAPLAY Vector to Planck Vector.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `vec` | `Vec2` | A KAPLAY vector. |

#### Returns

`Vec2`

***

### kpBody()

> **kpBody**(`def`?, `collisionIgnore`?): [`KPBodyComp`](/api/interfaces/KPBodyComp)

Adds a body to the physics world.

Requires `kpWorld` to be set first.
Requires `kpPos`.
Requires `kpRotate`.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `def`? | [`KPBodyDef`](/api/type-aliases/KPBodyDef) | The definition of the body. |
| `collisionIgnore`? | `string`[] | Tags to ignore collisions with this body |

#### Returns

[`KPBodyComp`](/api/interfaces/KPBodyComp)

***

### kpBoxShape()

> **kpBoxShape**(`opt`): [`KPBoxShapeComp`](/api/interfaces/KPBoxShapeComp)

Defines the geometry of a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `opt` | [`KPBoxShapeOpt`](/api/interfaces/KPBoxShapeOpt) | The options for the box shape. |

#### Returns

[`KPBoxShapeComp`](/api/interfaces/KPBoxShapeComp)

***

### kpCenter()

> **kpCenter**(): `Vec2`

Returns the center of the canvas in unit.

#### Returns

`Vec2`

***

### kpChainShape()

> **kpChainShape**(`opt`?): [`KPChainShapeComp`](/api/interfaces/KPChainShapeComp)

Defines the geometry of a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `opt`? | [`KPChainShapeOpt`](/api/interfaces/KPChainShapeOpt) | The options for the chain shape. |

#### Returns

[`KPChainShapeComp`](/api/interfaces/KPChainShapeComp)

***

### kpCircleShape()

> **kpCircleShape**(`opt`?): [`KPCircleShapeComp`](/api/interfaces/KPCircleShapeComp)

Defines the geometry of a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `opt`? | [`KPCircleShapeOpt`](/api/interfaces/KPCircleShapeOpt) | The options for the circle shape. |

#### Returns

[`KPCircleShapeComp`](/api/interfaces/KPCircleShapeComp)

***

### kpEdgeShape()

> **kpEdgeShape**(`opt`?): [`KPEdgeShapeComp`](/api/interfaces/KPEdgeShapeComp)

Defines the geometry of a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `opt`? | [`KPEdgeShapeOpt`](/api/interfaces/KPEdgeShapeOpt) | The options for the edge shape. |

#### Returns

[`KPEdgeShapeComp`](/api/interfaces/KPEdgeShapeComp)

***

### kpFixture()

> **kpFixture**(`def`?): [`KPFixtureComp`](/api/interfaces/KPFixtureComp)

Creates a fixture.

**IMPORTANT**: cannot be added before `kpBody`.

Requires `kpBody`.
Requires a shape.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `def`? | [`KPFixtureDef`](/api/type-aliases/KPFixtureDef) | The definition of the fixture. |

#### Returns

[`KPFixtureComp`](/api/interfaces/KPFixtureComp)

***

### kpFixtures()

> **kpFixtures**(`defs`): [`KPFixturesComp`](/api/interfaces/KPFixturesComp)

Adds multiple fixtures to a body.

**IMPORTANT**: cannot be added before `kpBody`.

Requires `kpBody`.
Requires `kpShapes` with the same amount of shapes as fixtures.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `defs` | [`KPFixtureDef`](/api/type-aliases/KPFixtureDef)[] | The definitions of the fixtures. |

#### Returns

[`KPFixturesComp`](/api/interfaces/KPFixturesComp)

***

### kpMousePos()

> **kpMousePos**(): `Vec2`

Returns the mouse position in unit.

#### Returns

`Vec2`

***

### kpPolygonShape()

> **kpPolygonShape**(`opt`?): [`KPPolygonShapeComp`](/api/interfaces/KPPolygonShapeComp)

Defines the geometry of a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `opt`? | [`KPPolygonShapeOpt`](/api/interfaces/KPPolygonShapeOpt) | The options for the polygon shape. |

#### Returns

[`KPPolygonShapeComp`](/api/interfaces/KPPolygonShapeComp)

***

### kpPos()

#### Call Signature

> **kpPos**(`x`, `y`): [`KPPosComp`](/api/interfaces/KPPosComp)

Sets the position of a body.

**IMPORTANT**: use this method instead of `pos`

##### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `x` | `number` | The x coordinate of the body's position. |
| `y` | `number` | The y coordinate of the body's position. |

##### Returns

[`KPPosComp`](/api/interfaces/KPPosComp)

A position component that works with KaPlanckPlugin methods.

#### Call Signature

> **kpPos**(`obj`): [`KPPosComp`](/api/interfaces/KPPosComp)

Sets the position of a body.

**IMPORTANT**: use this method instead of `pos`

##### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `obj` | `Vec2Value` | An object containing the position values. |

##### Returns

[`KPPosComp`](/api/interfaces/KPPosComp)

A position component that works with KaPlanckPlugin methods.

#### Call Signature

> **kpPos**(`vec`): [`KPPosComp`](/api/interfaces/KPPosComp)

Sets the position of a body.

**IMPORTANT**: use this method instead of `pos`, it will add pos component to the entity.

##### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `vec` | `Vec2` | A vector containing the position values. |

##### Returns

[`KPPosComp`](/api/interfaces/KPPosComp)

A position component that works with KaPlanckPlugin methods.

#### Call Signature

> **kpPos**(): [`KPPosComp`](/api/interfaces/KPPosComp)

Sets the position of a body.

**IMPORTANT**: use this method instead of `pos`, it will add pos component to the entity.

##### Returns

[`KPPosComp`](/api/interfaces/KPPosComp)

A position component that works with KaPlanckPlugin methods.

***

### kpRotate()

> **kpRotate**(`angle`?): [`KPRotateComp`](/api/interfaces/KPRotateComp)

Sets the rotation of a body.

**IMPORTANT**: use this method instead of `rotate`, it will add rotate component to the entity.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `angle`? | `number` | The angle in radians to set the rotation of the body. |

#### Returns

[`KPRotateComp`](/api/interfaces/KPRotateComp)

A rotation component that works with KaPlanckPlugin methods.

***

### kpShapes()

> **kpShapes**(`defs`): [`KPShapesComp`](/api/interfaces/KPShapesComp)

Defines multiple shapes for a body.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `defs` | [`KPShapeDef`](/api/type-aliases/KPShapeDef)[] | The definitions of the shapes. |

#### Returns

[`KPShapesComp`](/api/interfaces/KPShapesComp)

***

### kpWorld()

> **kpWorld**(`def`?): [`KPWorldComp`](/api/interfaces/KPWorldComp)

Sets the physics world.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `def`? | `WorldDef` \| `Vec2` | The definition of the physics world or a vector for gravity. |

#### Returns

[`KPWorldComp`](/api/interfaces/KPWorldComp)

A world component that works with KaPlanckPlugin methods.

***

### onKPCollide()

> **onKPCollide**(`tagA`, `tagB`, `action`, `worldContainer`?): `void`

Register an event that runs once when 2 game objs with certain tags collides.
Requires an object with the `kpWorld` component.
Requires objects with `kpFixture` or `kpFixtures` components.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `tagA` | `string` | The tag of an object to listen for collisions. |
| `tagB` | `string` | The tag of another object to listen for collisions. |
| `action` | (`objA`, `objB`, `contact`?) => `void` |  |
| `worldContainer`? | `GameObj`\<[`KPWorldComp`](/api/interfaces/KPWorldComp)\> | If not provided, the first object with `kpObj` will be used. |

#### Returns

`void`

***

### onKPCollideEnd()

> **onKPCollideEnd**(`tagA`, `tagB`, `action`, `worldContainer`?): `void`

Register an event that runs once when 2 game objs with certain tags stop colliding.
Requires an object with the `kpWorld` component.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `tagA` | `string` | The tag of an object to listen for collisions. |
| `tagB` | `string` | The tag of another object to listen for collisions. |
| `action` | (`objA`, `objB`, `contact`?) => `void` |  |
| `worldContainer`? | `GameObj`\<[`KPWorldComp`](/api/interfaces/KPWorldComp)\> | If not provided, the first object with `kpWorld` will be used. |

#### Returns

`void`

***

### onKPCollideUpdate()

> **onKPCollideUpdate**(`tagA`, `tagB`, `action`, `worldContainer`?): `void`

Register an event that runs every frame when 2 game objs with certain tags collide.
Requires an object with the `kpWorld` component.
Requires objects with `kpFixture` or `kpFixtures` components.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `tagA` | `string` | The tag of an object to listen for collisions. |
| `tagB` | `string` | The tag of another object to listen for collisions. |
| `action` | (`objA`, `objB`, `contact`?) => `void` |  |
| `worldContainer`? | `GameObj`\<[`KPWorldComp`](/api/interfaces/KPWorldComp)\> | If not provided, the first object with `kpWorld` will be used. |

#### Returns

`void`

***

### p2kVec2()

> **p2kVec2**(`vec`): `Vec2`

Converts a vector from Planck Vector to KAPLAY Vector.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `vec` | `Vec2` | A Planck vector. |

#### Returns

`Vec2`

***

### p2u()

> **p2u**(`p`): `number`

Converts pixel to unit.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `p` | `number` | The pixel value. |

#### Returns

`number`

***

### u2p()

> **u2p**(`m`): `number`

Converts unit to pixel.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `m` | `number` | The unit value. |

#### Returns

`number`
